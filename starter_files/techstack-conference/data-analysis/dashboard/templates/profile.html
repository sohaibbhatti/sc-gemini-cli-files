{% extends "base.html" %}

{% block content %}
<div style="margin-bottom: 1rem;">
    <a href="{{ url_for('leads') }}" style="text-decoration: none; color: var(--primary);">&larr; Back to List</a>
</div>

<div class="profile-grid">
    <div class="profile-sidebar">
        <h2 style="margin-bottom: 0.5rem;">{{ lead.first_name }} {{ lead.last_name }}</h2>
        <p style="color: var(--text-muted); margin-bottom: 1.5rem;">{{ lead.title }} at <strong>{{ lead.company }}</strong></p>
        
        <div style="margin-bottom: 1.5rem;">
            <span class="badge badge-{{ lead.priority_segment|lower }}" style="font-size: 1rem; padding: 0.5rem 1rem;">{{ lead.priority_segment }} (Score: {{ lead.lead_score }})</span>
        </div>

        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
            <div><strong>Email:</strong><br>{{ lead.email }}</div>
            <div><strong>Phone:</strong><br>{{ lead.phone }}</div>
            <div><strong>Location:</strong><br>{{ lead.city }}, {{ lead.state }}, {{ lead.country }}</div>
        </div>
    </div>

    <div class="profile-content">
        <h3 style="margin-bottom: 1rem;">Interaction Details</h3>
        
        <div style="margin-bottom: 1.5rem;">
            <strong>Sessions Attended:</strong>
            <p style="margin-top: 0.5rem;">
                {% for session in lead.session_id.split(';') %}
                <span class="badge badge-cold" style="margin-right: 0.5rem; margin-bottom: 0.5rem; display: inline-block;">{{ session }}</span>
                {% endfor %}
            </p>
        </div>

        <div style="margin-bottom: 1.5rem;">
            <strong>Qualifiers:</strong>
            <p style="color: var(--text-muted); margin-top: 0.25rem;">{{ lead.qualifiers }}</p>
        </div>

        <div>
            <strong>Notes:</strong>
            <div class="notes-box">
                {{ lead.notes }}
            </div>
        </div>

        <div style="margin-top: 2rem; font-size: 0.875rem; color: var(--text-muted);">
            Last Scanned: {{ lead.timestamp }}
        </div>
    </div>
</div>
{% endblock %}
